import{a as e,c as s}from"./index-C_ruVA-P.js";import{x as a,r as o,o as r,A as n,b3 as t,am as i,aj as l,ad as u,ae as c,bm as d}from"./apis-DLG5pPnO.js";import"./iconfont-AVbwqJow.js";import"./hooks-BEWqBt0U.js";import"./naive-ui-DzB_dsUz.js";import"./lodash-DMrPhC4V.js";import"./pako-DsGp7kFX.js";const v={class:"webview-container"},m=["src"],p=s(a({__name:"EmbeddedWebView",setup(s){const a=e(),p=o(a.query.url),f=o(null),w=()=>{console.log("网页加载完成"),h.value=!1,b()},b=()=>{var e;if(f.value){const s=f.value.contentDocument||(null==(e=f.value.contentWindow)?void 0:e.document);if(s){const e=s.body.scrollHeight;f.value.style.height=`${e}px`}}},j=()=>{b()};r((()=>{window.addEventListener("resize",j)})),n((()=>a.query.url),(e=>{p.value=e,f.value&&(f.value.src=p.value)}));const h=o(!0);return t((()=>{window.removeEventListener("resize",j)})),(e,s)=>{const a=u("n-spin");return c(),i(a,{show:h.value},{default:l((()=>[d("div",v,[d("iframe",{ref_key:"iframeRef",ref:f,src:p.value,frameborder:"0",class:"webview",onLoad:w},null,40,m)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-b5337083"]]);export{p as default};
