import{a as e,c as a}from"./index-BV7_MY02.js";import{D as s,r as o,o as r,H as n,b9 as t,ah as i,ai as l,aq as u,an as c,at as v}from"./apis-BBzH6gLY.js";import"./iconfont-C4xyYXsr.js";import"./hooks-Ba32akuV.js";import"./naive-ui-BM6VJ1CJ.js";import"./lodash-DMrPhC4V.js";import"./pako-DsGp7kFX.js";const d={class:"webview-container"},m=["src"],p=a(s({__name:"EmbeddedWebView",setup(a){const s=e(),p=o(s.query.url),f=o(null),w=()=>{console.log("网页加载完成"),j.value=!1,b()},b=()=>{var e;if(f.value){const a=f.value.contentDocument||(null==(e=f.value.contentWindow)?void 0:e.document);if(a){const e=a.body.scrollHeight;f.value.style.height=`${e}px`}}},h=()=>{b()};r((()=>{window.addEventListener("resize",h)})),n((()=>s.query.url),(e=>{p.value=e,f.value&&(f.value.src=p.value)}));const j=o(!0);return t((()=>{window.removeEventListener("resize",h)})),(e,a)=>{const s=i("n-spin");return l(),u(s,{show:j.value},{default:c((()=>[v("div",d,[v("iframe",{ref_key:"iframeRef",ref:f,src:p.value,frameborder:"0",class:"webview",onLoad:w},null,40,m)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-b5337083"]]);export{p as default};
