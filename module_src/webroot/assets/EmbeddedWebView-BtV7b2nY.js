import{d as f,r as a,o as _,w as m,a as v,c as w,b as p,u as h,e as b,f as g,g as l,_ as x}from"./index-CrJbw-NN.js";const y={class:"webview-container"},B=["src"],E=f({__name:"EmbeddedWebView",setup(R){const r=h(),s=a(r.query.url),e=a(null),d=()=>{console.log("网页加载完成"),u.value=!1,c()},c=()=>{var o;if(e.value){const n=e.value.contentDocument||((o=e.value.contentWindow)==null?void 0:o.document);if(n){const t=n.body.scrollHeight;e.value.style.height=`${t}px`}}},i=()=>{c()};_(()=>{window.addEventListener("resize",i)}),m(()=>r.query.url,o=>{s.value=o,e.value&&(e.value.src=s.value)});const u=a(!0);return v(()=>{window.removeEventListener("resize",i)}),(o,n)=>{const t=b("n-spin");return g(),w(t,{show:u.value},{default:p(()=>[l("div",y,[l("iframe",{ref_key:"iframeRef",ref:e,src:s.value,frameborder:"0",class:"webview",onLoad:d},null,40,B)])]),_:1},8,["show"])}}}),z=x(E,[["__scopeId","data-v-b5337083"]]);export{z as default};
